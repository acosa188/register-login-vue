(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},s={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/register-login-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"1e81":function(t,e,r){},"336c":function(t,e,r){},3967:function(t,e,r){},"3fb9":function(t,e,r){"use strict";r("caaf")},"44f2":function(t,e,r){"use strict";r("5ee3")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"is-flex is-justify-content-center is-align-items-center"},[r("div",{staticClass:"container"},[r("div",{staticClass:"app-wrapper"},[r("router-view")],1)])])])},n=[],i=(r("034f"),r("2877")),o={},c=Object(i["a"])(o,s,n,!1,null,null,null),u=c.exports,l=r("bc3a"),d=r.n(l),p=r("260b"),f=r("8c4f"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("div",{staticClass:"container"},[r("div",{staticClass:"box"},[r("transition",{attrs:{appear:"",name:"fade"}},[r("h1",{staticClass:"title"},[t._v("Hello, "+t._s(t.username))])]),r("transition",{attrs:{appear:"",name:"slide-fade"}},[r("h3",[t._v("You still have tons of work to do.")])]),t._m(0),r("h5",{staticClass:"subtitle is-7"},[t._v("Simply "),r("a",{on:{click:t.signOutHandler}},[t._v("sign out")])])],1)])])},h=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"is-flex is-flex-direction-row"},[r("h2",{staticClass:"title is-5"},[r("span",[t._v("Getting tired?")])])])}],b=r("1da1"),v=(r("96cf"),r("5319"),r("ac1f"),r("ea7b"),r("bc3a").default),g={name:"Home",data:function(){return{username:""}},methods:{signOutHandler:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p["a"].auth().signOut();case 3:localStorage.token="",localStorage.uid="",t.$store.dispatch("default"),t.$router.replace({name:"signin"}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},mounted:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("https://arjuan-auth.herokuapp.com/api/user/".concat(t.$store.state.uid||localStorage.uid),{headers:{"auth-token":t.$store.state.token||localStorage.token}});case 2:r=e.sent,a=r.data,t.username=a;case 5:case"end":return e.stop()}}),e)})))()}},w=g,x=(r("3fb9"),Object(i["a"])(w,m,h,!1,null,"5893e8b8",null)),_=x.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"signin"},[r("div",{staticClass:"box"},[r("div",{staticClass:"app-inner-wrapper"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[r("div",{staticClass:"is-flex is-flex-direction-column is-justify-content-center is-align-items-center"},[r("h1",{staticClass:"title",style:{width:"80%",textAlign:"left"}},[t._v(" Ready to work? Let's go at it. ")]),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Email",height:"50px",width:"80%",type:"email",error:t.error},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Password",height:"50px",width:"80%",type:"password",error:t.error},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("user-button",{attrs:{label:"Sign In",width:"80%",height:"50px",btn_state:t.btnState}})],1)]),t._m(0),r("h5",{staticClass:"is-7"},[t._v(" Join us and "),r("router-link",{attrs:{to:"/signup"}},[t._v("sign up")]),t._v(" now ")],1)])])])},y=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"is-flex is-flex-direction-row mt-5"},[r("h2",{staticClass:"title is-5"},[r("span",[t._v("Need an account?")])])])}],C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"inputVue",style:{height:t.validateSize(t.height)?t.height:"40px",width:t.validateSize(t.width)?t.width:"100%"}},[r("input",{ref:"input",attrs:{id:"input-id-"+t.label,type:t.validateType(t.type)?t.type:"text",required:t.required},on:{input:t.inputHandler}}),r("label",{attrs:{for:"input-id-"+t.label}},[t._v(t._s(t.label))])])},S=[],$=(r("caad"),{name:"InputVue",props:{label:{type:String,require:!0},error:Boolean,height:String,width:String,type:String,required:Boolean},methods:{inputHandler:function(t){this.$emit("input",t.target.value)},validateSize:function(t){return/\s*(\d+)px|\s*(\d+)rem|\s*(\d+)em|\s*(\d+)%/.test(t)},validateType:function(t){return["text","email","password","search","tel","number","url"].includes(t)}},watch:{error:function(t,e){var r=this;t!==e&&t&&(this.$refs.input.classList.add("error"),setTimeout((function(){r.$refs.input.classList.remove("error")}),1500))}},mounted:function(){var t=this;this.$refs.input.addEventListener("focusout",(function(){""!==t.$refs.input.value?t.$refs.input.classList.add("inputIn"):t.$refs.input.classList.remove("inputIn")}))}}),j=$,O=(r("9b5f"),Object(i["a"])(j,C,S,!1,null,"d56ce31c",null)),E=O.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-button-wrapper"},[r("button",{ref:"button",staticClass:"btn",style:{width:t.validateSize(t.width)?t.width:"100%",height:t.validateSize(t.height)?t.height:"50px"},attrs:{type:"submit",id:"user-button-id"}},[r("span",[t._v(" "+t._s(t.label)+" ")]),r("div",{staticClass:"icon"},[r("i",{class:"fa "+(t.signUp?"fa-user-plus":"fa-sign-in")}),r("i",{staticClass:"fa fa-remove"}),r("i",{staticClass:"fa fa-check"}),r("i",{staticClass:"fa lds-dual-ring"})])])])},P=[],U={name:"UserButton",props:{label:String,signUp:Boolean,height:String,width:String,btn_state:String},methods:{validateSize:function(t){return/\s*(\d+)px|\s*(\d+)rem|\s*(\d+)em|\s*(\d+)%/.test(t)}},watch:{btn_state:function(t,e){var r=this,a=["standby","loading","success","error"];if(t!==e){if(!a.includes(t.toLowerCase()))throw Error("wrong button state, please refer to the component document");switch(t.toLowerCase()){case"loading":this.$refs.button.classList.add("loading");break;case"success":this.$refs.button.classList.remove("loading"),this.$refs.button.classList.add("success"),setTimeout((function(){r.$refs.button.classList.remove("success")}),3e3);break;case"error":this.$refs.button.classList.remove("loading"),this.$refs.button.classList.add("error"),setTimeout((function(){r.$refs.button.classList.remove("error")}),3e3);break}}}}},I=U,L=(r("9a5a"),Object(i["a"])(I,T,P,!1,null,"a5e5162a",null)),H=L.exports,q=r("bc3a").default,A={components:{UserInputTextField:E,UserButton:H},data:function(){return{email:"",password:"",error:!1,btnState:""}},methods:{submitHandler:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.error=!1,t.btnState="loading",e.next=5,p["a"].auth().signInWithEmailAndPassword(t.email,t.password);case 5:return e.next=7,q.post("https://arjuan-auth.herokuapp.com/api/user/login",{email:t.email,password:t.password});case 7:r=e.sent,a=r.data,localStorage.uid=a.uid,localStorage.token=a.token,t.$store.dispatch("assignUserId",a.uid),t.$store.dispatch("assignToken",a.token),t.btnState="success",setTimeout((function(){t.$router.replace({name:"home"})}),300),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0),t.error=!0,t.btnState="error";case 22:case"end":return e.stop()}}),e,null,[[0,17]])})))()}}},R=A,z=(r("f047"),Object(i["a"])(R,k,y,!1,null,"6f031dcc",null)),B=z.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"signup"},[r("div",{staticClass:"box"},[r("div",{staticClass:"app-inner-wrapper"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[r("div",{staticClass:"is-flex is-flex-direction-column is-justify-content-center is-align-items-center"},[r("h1",{staticClass:"title",style:{width:"80%",textAlign:"left"}},[t._v(" With a few steps, you can be one of us. ")]),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Name",height:"50px",width:"80%",type:"text",error:t.error,required:!0},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Email",height:"50px",width:"80%",type:"email",error:t.error,required:!0},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Password",height:"50px",width:"80%",type:"password",error:t.error,required:!0},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("user-input-text-field",{staticClass:"mb-5",attrs:{label:"Confirm Password",height:"50px",width:"80%",type:"password",error:t.confirmPasswordError,required:!0},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}}),r("user-button",{attrs:{label:"Sign Up",width:"80%",height:"50px",btn_state:t.btnState,signUp:!0}})],1)]),t._m(0),r("h5",{staticClass:"is-7"},[t._v("Be productive and "),r("router-link",{attrs:{to:"/signin"}},[t._v("sign in")]),t._v(" now")],1)])])])},M=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"is-flex is-flex-direction-row mt-5"},[r("h2",{staticClass:"title is-5"},[r("span",[t._v("Already have an account?")])])])}],D=(r("b0c0"),r("bc3a").default),G={components:{UserInputTextField:E,UserButton:H},data:function(){return{name:"",email:"",password:"",confirm_password:"",error:!1,btnState:"",confirmPasswordError:!1}},methods:{submitHandler:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.error=!1,t.btnState="loading",t.password===t.confirm_password){e.next=6;break}throw t.confirmPasswordError=!0,Error("Password does not match");case 6:return e.next=8,p["a"].auth().createUserWithEmailAndPassword(t.email,t.password);case 8:return e.next=10,D.post("https://arjuan-auth.herokuapp.com/api/user/register",{name:t.name,email:t.email,password:t.password});case 10:return e.next=12,D.post("https://arjuan-auth.herokuapp.com/api/user/login",{email:t.email,password:t.password});case 12:r=e.sent,a=r.data,localStorage.uid=a.uid,localStorage.token=a.token,t.$store.dispatch("assignUserId",a.uid),t.$store.dispatch("assignToken",a.token),t.btnState="success",setTimeout((function(){t.$router.replace({name:"home"})}),300),e.next=27;break;case 22:e.prev=22,e.t0=e["catch"](0),console.log(e.t0),t.confirmPasswordError?setTimeout((function(){t.confirmPasswordError=!1}),1e3):t.error=!0,t.btnState="error";case 27:case"end":return e.stop()}}),e,null,[[0,22]])})))()}}},J=G,K=(r("44f2"),Object(i["a"])(J,W,M,!1,null,"8df6e77a",null)),Q=K.exports;a["a"].use(f["a"]);var V=[{path:"/",name:"home",component:_,meta:{requiresAuth:!0}},{path:"/signin",name:"signin",component:B},{path:"/signup",name:"signup",component:Q}],F=new f["a"]({mode:"history",base:"/register-login-vue/",routes:V});F.beforeEach((function(t,e,r){var a=t.matched.some((function(t){return t.meta.requiresAuth})),s=p["a"].auth().currentUser;a&&!s?r("/signin"):r()}));var N=F,Y=r("2f62");a["a"].use(Y["a"]);var Z=new Y["a"].Store({state:{uid:"",token:""},mutations:{setToken:function(t,e){t.token=e},setUid:function(t,e){t.uid=e}},actions:{assignToken:function(t,e){var r=t.commit;r("setToken",e)},assignUserId:function(t,e){var r=t.commit;r("setUid",e)},default:function(t){var e=t.commit;e("setUid",""),e("setToken","")}},modules:{}});r("b383"),a["a"].prototype.$axios=d.a,a["a"].config.productionTip=!1;var X,tt={apiKey:"".concat("AIzaSyACotxtQVYpcCbGnjp-mWdcqHpK78RuZ08"),authDomain:"".concat("test-auth-80908.firebaseapp.com"),projectId:"".concat("test-auth-80908"),storageBucket:"".concat("test-auth-80908.appspot.com"),messagingSenderId:"".concat("603601613841"),appId:"".concat("1:603601613841:web:9c698ab03b686185a06db0"),measurementId:"".concat("G-SZQKW6Q86H")};p["a"].initializeApp(tt),p["a"].auth().onAuthStateChanged((function(){X||(X=new a["a"]({router:N,store:Z,render:function(t){return t(u)}}).$mount("#app"))}))},"5ee3":function(t,e,r){},"85ec":function(t,e,r){},"9a5a":function(t,e,r){"use strict";r("336c")},"9b5f":function(t,e,r){"use strict";r("1e81")},b383:function(t,e,r){},caaf:function(t,e,r){},f047:function(t,e,r){"use strict";r("3967")}});
//# sourceMappingURL=app.8da08a90.js.map